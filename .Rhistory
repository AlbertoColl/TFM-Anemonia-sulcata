ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 30, height = 37.5, units = "mm", dpi = 1000)
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.5, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 0.6) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 1) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 1, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
#xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 30, height = 37.5, units = "mm", dpi = 1000)
}
## Definicion del tema y formato de las graficas ----
theme_tfm <- function(){
theme(panel.background = element_rect(fill = "gray99"),
axis.text = element_text(size = 7),
plot.title = element_blank(),
strip.text.x = element_text(size = 7, face = "bold", vjust = 0),
axis.title = element_text(size = 7),
legend.position = "none",
panel.grid = element_blank(),
axis.line = element_line(colour = "gray10"),
axis.ticks = element_line(color = "gray10"))
#strip.background = element_rect(colour = "black")
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 30, height = 37.5, units = "mm", dpi = 1000)
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.5, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 0.6) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 1) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 0.5, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
#xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 30, height = 37.5, units = "mm", dpi = 1000)
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 60, height = 75, units = "mm", dpi = 1000)
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.8, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 1) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 2) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 3.5, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
#xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
## Definicion del tema y formato de las graficas ----
theme_tfm <- function(){
theme(panel.background = element_rect(fill = "gray99"),
axis.text = element_text(size = 9),
plot.title = element_blank(),
strip.text.x = element_text(size = 12, face = "bold", vjust = 0),
axis.title = element_text(size = 12),
legend.position = "none",
panel.grid = element_blank(),
axis.line = element_line(colour = "gray10"),
axis.ticks = element_line(color = "gray10"))
#strip.background = element_rect(colour = "black")
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.8, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 1) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 2) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 3.5, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.9, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 1) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 2) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 3.5, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
barras_tfm <- function(){
ggplot() +
geom_errorbar(data = tabla_summ, aes(x = tratamiento, ymax = media + error, ymin = media- error), width = 0.7, color = "gray55") +
geom_col(data = tabla_summ, aes(x = tratamiento, y = media, fill = tratamiento, color = tratamiento),  alpha = 0.1, linewidth = 1) +
geom_point(data = datos, aes(x = tratamiento, y = get(i), color = tratamiento), alpha = 0.7, size = 2) +
geom_text(data = tabla_summ, aes(x = tratamiento, y = media + error, label = tukey), color = "grey5", vjust = -0.8, size = 3.5, fontface = "bold") +
ylab(case_when(
i == "clorofila.total" ~ "chlorophyll μg/tissue g",
i == "proteina.tent" | i == "proteina.pie"  ~ " protein mg / ml",
i == "MDA.pie.2" | i == "MDA.tent.2" ~ "μM  MDA",
i == "TEAC.pie" | i == "TEAC.tent"~ "Trolox equivalent μM",
i == "GST.pie" | i == "GST.tent" ~ "mU / mg  of protein",
i == "DTD.pie" | i == "DTD.tent" ~ "mU / mg  of protein",
TRUE ~ "U / mg  of protein")) +
xlab("Treatment") + # Omitir?
scale_color_manual(values = c("#0c8890", "#54B65D","#E56A1C", "#FBBC4C")) +
ylim(c(0, 1.4*(max(tabla_summ$media) + max(tabla_summ$error)))) +
# Colores 1
# ylim(c(0, case_when(i == "CAT.pie" ~  90,i == "DTD.pie" ~  15,i == "GST.pie" ~  450,i == "MDA.pie.2"| i == "MDA.tent.2" ~  90,i == "SOD.pie"| i == "SOD.tent" ~  150,  i == "TEAC.pie"| i == "TEAC.tent" ~  500,i == "CAT.tent" | i == "DTD.tent" | i == "GST.tent" ~ max(tabla_summ$media) * 2, TRUE ~ max(tabla_summ$media) * 1.2))) +
#labs(title = i) +
theme_tfm()
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, "2.png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
ggsave(paste0("./resultados/graficas2/", i, ".png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
library(patchwork)
install.packages("patchwork")
?saveRDS()
saveRDS(p, paste0("./resultados/graficas2/", i, ""))
readRDS("./resultados/graficas2/TEAC.tent.RDS")
readRDS("./resultados/graficas2/TEAC.tent")
p1 <- readRDS("./resultados/graficas2/TEAC.tent")
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
saveRDS(p, paste0("./resultados/graficas2/", i, "_RDS"))
ggsave(paste0("./resultados/graficas2/", i, ".png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
for (n in c(1:18)){
assign(paste0("p", i), readRDS(paste0("./resultados/graficas2/", i, "_RDS")))
}
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
assign(paste0("p", n), readRDS(paste0("./resultados/graficas2/", i, "_RDS")))
}
p1 +p2
(p1 +p2)
p1
p2
readRDS(paste0("./resultados/graficas2/", i, "_RDS")
readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
?assign
plots <- list()
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
plots <- list()
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS")))
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
plots <- list()
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
}
View(plots)
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
print(i, n)
plots <- list()
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
}
### Patchwork para figuras finales ----
plots <- list()
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
print(i, n)
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
}
View(plots)
plots[[1]]
### Patchwork para figuras finales ----
plots <- list()
n <- 2
i <- colnames(datos[4:21])[[n]]
print(i, n)
print(c(i,n))
n <- 7
i <- colnames(datos[4:21])[[n]]
print(c(i,n))
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
n <- 1
### Patchwork para figuras finales ----
plots <- list()
i <- colnames(datos[4:21])[[n]]
print(c(i,n))
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
plots[[i]]
n <- 2
i <- colnames(datos[4:21])[[n]]
print(c(i,n))
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
plots[[2]]
### Patchwork para figuras finales ----
plots <- list()
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
print(c(i,n))
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
}
plots$SOD.pie
plots$peso.total
View(plots)
plots <- lapply(colnames(datos[4:21]), readRDS(paste0("./resultados/graficas2/", i, "_RDS")))
plots <- lapply(colnames(datos[4:21]), function(){readRDS(paste0("./resultados/graficas2/", i, "_RDS"))})
plots <- lapply(colnames(datos[4:21]), function(x){readRDS(paste0("./resultados/graficas2/", x, "_RDS"))})
View(plots)
plots[1]
plots[[|]]
plots[[1]]
(plots[[3]] + plots[[4]])
### Patchwork para figuras finales ----
library(patchwork)
(plots[[3]] + plots[[4]])
(plots[[3]] + plots[[4]] + plots[[5]])
(plots[[3]] | plots[[4]] | plots[[5]])
(plots[[3]] | plots[[4]] | plots[[5]]) / plots[[6]]
(plots[[3]] | plots[[4]] | plots[[5]]) / (plots[[6]] | plots[[7]] | plots[[8]])
plots <- list()
plots <- lapply(colnames(datos[4:21]), function(x){readRDS(paste0("./resultados/graficas2/", x, "_RDS"))})
(plots[[3]] | plots[[4]] | plots[[5]]) / (plots[[6]] | plots[[7]] | plots[[8]])
(plots[[9]] | plots[[10]] | plots[[11]]) / (plots[[12]] | plots[[13]] | plots[[14]])
# Bucle construccion de estadisticos de resumen, grafica y test post hoc Tukey
for (n in c(1:18)) {
i <- colnames(datos[4:21])[[n]]
tabla_summ <- datos %>%  group_by(tratamiento) %>%
summarise(media = mean(get(i), na.rm = T),
desvest = sd(get(i), na.rm = T),
error = desvest/sqrt(sum(!is.na(get(i)))))
if ((summary(modelos[[n]])[[1]][["Pr(>F)"]][1]) <= 0.05) {
tukey_loop <- TukeyHSD(modelos[[n]])
cld.tukey <- multcompLetters4(modelos[[n]], tukey_loop, reversed = T)
(letras <- rownames_to_column(as.data.frame(cld.tukey$tratamiento$Letters)))
colnames(letras) <- c("tratamiento", "tukey")
tabla_summ <- merge(tabla_summ, letras)
} else {
tabla_summ$tukey <- c("", "", "", "")
}
(p <- barras_tfm())
saveRDS(p, paste0("./resultados/graficas2/", i, "_RDS"))
ggsave(paste0("./resultados/graficas2/", i, ".png"), width = 90, height = 112.5, units = "mm", dpi = 1000)
}
plots <- list()
plots <- lapply(colnames(datos[4:21]), function(x){readRDS(paste0("./resultados/graficas2/", x, "_RDS"))})
View(plots)
plots[6]
plots[[6]]
plots[[7]]
plots[[18]]
plots[[17]]
plots[[16]]
plots[[16]]
plots[[15]]
plots[[14]]
plots[[13]]
plots[[12]]
plots[[11]]
plots[[10]]
plots <- list()
for (n in c(1:18)){
i <- colnames(datos[4:21])[[n]]
print(c(i,n))
plots[[i]] <- readRDS(paste0("./resultados/graficas2/", i, "_RDS"))
}
View(p9)
plots$GST.pie
plots$GST.tent
plots$TEC.tent
plots$TEAC.tent
ggplot::ggload()
wrap_plots(plots)
wrap_plots(plots[3:18])
wrap_plots(plots[3:8])
wrap_plots(plots[9:18])
wrap_plots(plots[3:10])
wrap_plots(plots[3:11])
wrap_plots(plots[12:18])
wrap_plots(plots[3:8])
Wa
wrap_plots(plots[9:18])
wrap_plots(plots[11:18])
